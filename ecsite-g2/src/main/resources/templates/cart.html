<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>カート</title>
	<link rel="stylesheet" th:href="@{/shop.css}">
	<link rel="stylesheet" th:href="@{/style.css}">
	<style>
	  table {
	    border-collapse: collapse; /* 枠線を重ねて表示 */
	  }
	  table, th, td {
	    border: 1px solid black; /* tableとth、tdすべてに1pxの黒枠を付ける */
	  }
	</style>
</head>
<body>
    <h1>カートの中身</h1>

    <table border="1">
        <thead>
            <tr>
                <th>商品名</th>
                <th>数量</th>
                <th>単価</th>
                <th>小計</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="item : ${cartItems}">
                <td th:text="${item.name}">商品名</td>
                <td th:text="${item.stock}">数量</td> <!-- stock 用作数量传递 -->
                <td th:text="${item.price}">単価</td>
                <td th:text="${item.price * item.stock}">小計</td>
            </tr>
        </tbody>
    </table>

    <p>合計金額: <strong><span th:text="${total}"></span>円</strong></p>

	<div style="text-align: center;"><a href="/purchase" class="submit_btn">レジへ進む </a></div>
    <div style="text-align: center;"><a href="/items" class="submit_btn">↪戻る</a></div>
    
    
	
	
	<header>
		<div class="mp_header">
			<div class="sidebar_btn">三</div>
			<div class="header_title">ZOOTOWN</div>
			<div class="linkBox">
				<a th:href="@{/login}" class="logout-link">ログアウト</a>
			</div>
		</div>
	</header>

	  <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>
	  <div id="top"></div>
	  	<script th:if="${isAdmin}" th:inline="javascript">
	  		    window.isAdmin = true;
	  	</script>
	  
	  <footer>
	  	<div>@TEAM2,Inc.</div>
	  </footer>
	  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	  <script src="script.js" th:src="@{/script.js}"></script>
</body>
</html>
